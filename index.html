<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Ας Εξασκηθούμε</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    header {
      text-align: center;
      font-size: 0.9rem;
      margin-bottom: 20px;
    }
    header span {
      color: #fff;
    }
    h1 {
      color: gold;
      text-align: center;
      margin-top: 0;
    }
    .container {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
    }
    .quiz {
      flex: 1;
    }
    .sidebar {
      width: 250px;
      margin-left: 20px;
      padding: 10px;
      border: 2px solid #ffd700;
      border-radius: 10px;
      height: fit-content;
    }
    .question-container {
      margin-bottom: 20px;
      padding: 20px;
      border: 2px solid #ffd700;
      border-radius: 10px;
      background-color: #222;
    }
    .options {
      margin-top: 10px;
    }
    .options label {
      display: block;
      margin-bottom: 8px;
      cursor: pointer;
    }
    .feedback {
      margin-top: 15px;
      font-style: italic;
    }
    .sidebar button {
      padding: 10px 20px;
      margin-top: 15px;
      background-color: #ffd700;
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      width: 100%;
    }
    .sidebar button:hover {
      background-color: #e6c200;
    }
    hr {
      border: 1px solid #444;
    }
  </style>
  <!-- jsPDF βιβλιοθήκη για εκτύπωση σε PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header>
    <span>Δημιουργία: Παναγιώτης Δόμβρος 2025 (CC BY-NC)</span>
  </header>
  <h1>Ας Εξασκηθούμε</h1>
  <div class="container">
    <div class="quiz">
      <div id="questionContainer" class="question-container">
        <!-- Εδώ φορτώνεται η τρέχουσα ερώτηση -->
      </div>
    </div>
    <div class="sidebar">
      <div id="scoreBox">Σκορ: 0</div>
      <button id="nextButton" onclick="nextQuestion()" style="display: none;">Επόμενη Ερώτηση ▶️</button>
      <button id="printButton" onclick="printPDF()">Εκτύπωση σε PDF 🖨️</button>
    </div>
  </div>
  <!-- Περιοχή ανασκόπησης απαντήσεων στο τέλος -->
  <div id="resultContainer" class="question-container" style="display: none; margin-top:20px;">
    <h2>Απαντήσεις και Ανατροφοδότηση 📋</h2>
    <div id="review"></div>
  </div>

  <script>
    // Βοηθητική συνάρτηση για ανακατέμα: Fisher-Yates shuffle
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Πίνακας 30 ερωτήσεων
    const questions = [
      {
        direct: "❓ Θα σου τηλεφωνήσω.",
        options: [
          { text: "Είπε ότι θα σου τηλεφωνήσει.", isCorrect: true, feedback: "Σωστά! Η αλλαγή του ρήματος αντανακλά τη μετάβαση από ευθύ σε πλάγιο λόγο. 👍" },
          { text: "Είπε ότι θα με τηλεφωνήσει.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του προσώπου. 👎" },
          { text: "Είπε ότι θα τηλεφωνούσε.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος του ρήματος δεν έχει προσαρμοστεί σωστά. 👎" },
          { text: "Είπε ότι τηλεφώνησε.", isCorrect: false, feedback: "Λάθος επιλογή. Η χρήση του παρακειμένου δεν είναι σωστή. 👎" }
        ]
      },
      {
        direct: "❓ Είναι αδύνατο να μείνω μαζί σου.",
        options: [
          { text: "Της έλεγε ότι ήταν αδύνατο να μείνει μαζί της.", isCorrect: true, feedback: "Σωστά! Η αλλαγή στο ρήμα και το πρόσωπο είναι ορθή. 👍" },
          { text: "Της είπε ότι είναι αδύνατο να μείνει μαζί σου.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος του ρήματος δεν μετατράπηκε σωστά. 👎" },
          { text: "Είπε ότι ήταν αδύνατο να μείνει μαζί σου.", isCorrect: false, feedback: "Λάθος επιλογή. Η αλλαγή στο πρόσωπο λείπει. 👎" },
          { text: "Είπε ότι είναι αδύνατο να μείνει μαζί της.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος του ρήματος πρέπει να αλλάξει. 👎" }
        ]
      },
      {
        direct: "❓ Αύριο το σχολείο θα πάει εκδρομή.",
        options: [
          { text: "Ο διευθυντής ανακοίνωσε ότι την επόμενη μέρα το σχολείο θα πάει εκδρομή.", isCorrect: true, feedback: "Σωστά! Το χρονικό επιρρήμα μετατράπηκε σωστά. 👍" },
          { text: "Ο διευθυντής είπε ότι αύριο το σχολείο θα πάει εκδρομή.", isCorrect: false, feedback: "Λάθος επιλογή. Η αλλαγή του χρονικού επιρρήματος λείπει. 👎" },
          { text: "Είπε ότι αύριο το σχολείο πήγε εκδρομή.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος του ρήματος δεν έχει προσαρμοστεί σωστά. 👎" },
          { text: "Είπε ότι την επόμενη μέρα το σχολείο πήγαινε εκδρομή.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του χρόνου και του επιρρήματος. 👎" }
        ]
      },
      {
        direct: "❓ Φύγε!",
        options: [
          { text: "Την παρακίνησε να φύγει.", isCorrect: true, feedback: "Σωστά! Η προστακτική μετατράπηκε σωστά σε υποτακτική. 👍" },
          { text: "Την είπε να φύγει.", isCorrect: false, feedback: "Λάθος επιλογή. Η μετάβαση δεν αντικατοπτρίζει πλήρως την προστακτική. 👎" },
          { text: "Την προέτρεψε να φύγει.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά και σκεφτείτε τη σωστή δομή. 👎" },
          { text: "Της είπε να φύγει.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε τη δομή της πρότασης. 👎" }
        ]
      },
      {
        direct: "❓ Θέλω να φύγω μαζί σου.",
        options: [
          { text: "Λέει ότι θέλει να φύγει μαζί της.", isCorrect: true, feedback: "Σωστά! Η αλλαγή του προσώπου και του χρόνου είναι ορθή. 👍" },
          { text: "Λέει ότι θέλει να φύγει μαζί σου.", isCorrect: false, feedback: "Λάθος επιλογή. Η αλλαγή του προσώπου δεν πραγματοποιήθηκε. 👎" },
          { text: "Είπε ότι ήθελε να φύγει μαζί της.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος του ρήματος πρέπει να παραμείνει συνεπής. 👎" },
          { text: "Λέει ότι ήθελε να φύγει μαζί σου.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά και σκεφτείτε τις απαιτούμενες αλλαγές. 👎" }
        ]
      },
      {
        direct: "❓ Δεν φοβάμαι τίποτε.",
        options: [
          { text: "Είπε πως δε φοβόταν τίποτα.", isCorrect: true, feedback: "Σωστά! Ο χρόνος του ρήματος μετατράπηκε σωστά. 👍" },
          { text: "Είπε πως δεν φοβάται τίποτα.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος του ρήματος πρέπει να αλλάξει. 👎" },
          { text: "Είπε ότι δεν φοβάται τίποτα.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε τη σωστή μετατροπή του χρόνου. 👎" },
          { text: "Της είπε πως δε φοβόταν τίποτα.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      },
      {
        direct: "❓ Πάρε την απόφασή σου.",
        options: [
          { text: "Της είπε να πάρει την απόφασή της.", isCorrect: true, feedback: "Σωστά! Η εντολή μετατράπηκε σωστά σε δευτερεύουσα πρόταση. 👍" },
          { text: "Της είπε να πάρει την απόφασή σου.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του προσώπου. 👎" },
          { text: "Είπε ότι θα πάρει την απόφασή της.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή της πρότασης δεν έχει προσαρμοστεί σωστά. 👎" },
          { text: "Είπε να πάρει την απόφασή της.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά και σκεφτείτε τη σωστή μετάβαση. 👎" }
        ]
      },
      {
        direct: "❓ Μη δίνεις σημασία.",
        options: [
          { text: "Με προέτρεψε να μη δίνω σημασία.", isCorrect: true, feedback: "Σωστά! Η μετάβαση από προστακτική σε βουλητική ολοκληρώθηκε ορθά. 👍" },
          { text: "Είπε να μην δίνω σημασία.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Της είπε να μην δίνω σημασία.", isCorrect: false, feedback: "Λάθος επιλογή. Η αλλαγή του προσώπου δεν έγινε σωστά. 👎" },
          { text: "Με προέτρεψε να μην δίνω σημασία.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε ξανά τις αλλαγές που απαιτούνται. 👎" }
        ]
      },
      {
        direct: "❓ Έλα εδώ τώρα.",
        options: [
          { text: "Της είπε να έρθει εκεί αμέσως.", isCorrect: true, feedback: "Σωστά! Η προστακτική μετατράπηκε σωστά σε υποτακτική. 👍" },
          { text: "Της είπε να έρθει εδώ τώρα.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε τη χρήση του επιρρήματος. 👎" },
          { text: "Είπε ότι έπρεπε να έρθει εκεί αμέσως.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή δεν ταιριάζει. 👎" },
          { text: "Της είπε να έρθει εκεί τώρα.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      },
      {
        direct: "❓ Σου υπόσχομαι ότι θα είμαι εκεί.",
        options: [
          { text: "Υποσχέθηκε ότι θα ήταν εκεί.", isCorrect: true, feedback: "Σωστά! Ο μέλλοντας έχει προσαρμοστεί σωστά. 👍" },
          { text: "Υποσχέθηκε ότι είναι εκεί.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Είπε ότι θα είναι εκεί.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του χρόνου. 👎" },
          { text: "Είπε ότι ήταν εκεί.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      },
      {
        direct: "❓ Δεν θα αργήσω.",
        options: [
          { text: "Της είπε ότι δεν θα άργιζε.", isCorrect: true, feedback: "Σωστά! Η μετάβαση έγινε ορθή. 👍" },
          { text: "Είπε ότι δεν αργεί.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος πρέπει να αλλάξει. 👎" },
          { text: "Είπε ότι δεν θα αργούσε.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Της είπε ότι δεν θα αργούσε.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την πρόταση. 👎" }
        ]
      },
      {
        direct: "❓ Θα μας επισκεφθεί ο καθηγητής.",
        options: [
          { text: "Ανακοίνωσε ότι ο καθηγητής θα τους επισκεπτόταν.", isCorrect: true, feedback: "Σωστά! Η χρήση του παρατατικού είναι ορθή. 👍" },
          { text: "Είπε ότι ο καθηγητής θα τους επισκεπτόταν.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του χρόνου. 👎" },
          { text: "Είπε ότι ο καθηγητής επισκέπτεται.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει προσαρμοστεί σωστά. 👎" },
          { text: "Ανακοίνωσε ότι ο καθηγητής επισκέπτεται.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      },
      {
        direct: "❓ Είμαι πολύ χαρούμενος.",
        options: [
          { text: "Μίλησε ότι ήταν πολύ χαρούμενος.", isCorrect: true, feedback: "Σωστά! Η μετάβαση έγινε σωστά. 👍" },
          { text: "Είπε ότι είναι πολύ χαρούμενος.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Μίλησε ότι ήταν πολύ ευτυχισμένος.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι ήταν πολύ χαρούμενος.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την επιλογή σας. 👎" }
        ]
      },
      {
        direct: "❓ Δεν μπορώ να καταλάβω.",
        options: [
          { text: "Εξήγησε ότι δεν μπορούσε να καταλάβει.", isCorrect: true, feedback: "Σωστά! Η μετάβαση από τον ενεργητικό στο παρελθόν έγινε σωστά. 👍" },
          { text: "Είπε ότι δεν μπορεί να καταλάβει.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Εξήγησε ότι δεν μπορεί να καταλάβει.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι δεν μπορούσε να καταλάβει.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε τη δομή της πρότασης. 👎" }
        ]
      },
      {
        direct: "❓ Πρέπει να τελειώσουμε την εργασία.",
        options: [
          { text: "Τόνισε ότι έπρεπε να τελειώσουν την εργασία.", isCorrect: true, feedback: "Σωστά! Η μετάβαση σε δευτερεύουσα πρόταση έγινε σωστά. 👍" },
          { text: "Είπε ότι πρέπει να τελειώσουν την εργασία.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει σωστά. 👎" },
          { text: "Τόνισε ότι πρέπει να τελειώσουν την εργασία.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι έπρεπε να τελειώσουν την εργασία.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την δομή της πρότασης. 👎" }
        ]
      },
      {
        direct: "❓ Έλα να δούμε τον καιρό.",
        options: [
          { text: "Πρότεινε να δουν τον καιρό.", isCorrect: true, feedback: "Σωστά! Η πρόταση μετατράπηκε σωστά. 👍" },
          { text: "Είπε να δούμε τον καιρό.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή δεν αντικατοπτρίζει σωστά την πρόταση. 👎" },
          { text: "Πρότεινε να δούμε τον καιρό.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι θα δουν τον καιρό.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει προσαρμοστεί σωστά. 👎" }
        ]
      },
      {
        direct: "❓ Θα δούμε μια ταινία.",
        options: [
          { text: "Ανακοίνωσε ότι θα έβλεπαν μια ταινία.", isCorrect: true, feedback: "Σωστά! Η αλλαγή του χρόνου έγινε σωστά. 👍" },
          { text: "Είπε ότι θα δούμε μια ταινία.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει σωστά. 👎" },
          { text: "Ανακοίνωσε ότι θα δούμε μια ταινία.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι θα έβλεπαν μια ταινία.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του χρόνου. 👎" }
        ]
      },
      {
        direct: "❓ Σου αρέσει αυτό το βιβλίο;",
        options: [
          { text: "Ρώτησε αν του άρεσε αυτό το βιβλίο.", isCorrect: true, feedback: "Σωστά! Η μετάβαση από ερώτηση σε πλάγιο λόγο έγινε σωστά. 👍" },
          { text: "Ρώτησε αν του αρέσει αυτό το βιβλίο.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Ρώτησε αν του άρεσε το βιβλίο.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή στο αντικείμενο. 👎" },
          { text: "Είπε ότι του άρεσε αυτό το βιβλίο.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή δεν έχει μετατραπεί σωστά. 👎" }
        ]
      },
      {
        direct: "❓ Μπορώ να πάρω αυτό;",
        options: [
          { text: "Ρώτησε αν μπορούσε να το πάρει.", isCorrect: true, feedback: "Σωστά! Η μετάβαση με αλλαγή προσώπου και ρήματος έγινε σωστά. 👍" },
          { text: "Είπε ότι μπορεί να το πάρει.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει μεταβληθεί σωστά. 👎" },
          { text: "Ρώτησε αν μπορεί να το πάρει.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι μπορούσε να το πάρει.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή δεν είναι σωστή. 👎" }
        ]
      },
      {
        direct: "❓ Αυτό είναι το δικό μου βιβλίο.",
        options: [
          { text: "Εξήγησε ότι αυτό ήταν το δικό του βιβλίο.", isCorrect: true, feedback: "Σωστά! Η αλλαγή στο προσωνύμιο έγινε σωστά. 👍" },
          { text: "Είπε ότι αυτό είναι το δικό του βιβλίο.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Εξήγησε ότι αυτό ήταν το δικό του βιβλίο.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι αυτό ήταν το δικό μου βιβλίο.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του προσώπου. 👎" }
        ]
      },
      {
        direct: "❓ Θα βγούμε έξω.",
        options: [
          { text: "Είπε ότι θα βγαιναν έξω.", isCorrect: true, feedback: "Σωστά! Η μετάβαση του χρόνου έγινε σωστά. 👍" },
          { text: "Είπε ότι βγαίνουμε έξω.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει σωστά. 👎" },
          { text: "Είπε ότι θα βγαίνουμε έξω.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Της είπε ότι θα βγούμε έξω.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την δομή της πρότασης. 👎" }
        ]
      },
      {
        direct: "❓ Κάνε την εργασία σου.",
        options: [
          { text: "Τον παρακίνησε να κάνει την εργασία του.", isCorrect: true, feedback: "Σωστά! Η εντολή μετατράπηκε σωστά. 👍" },
          { text: "Του είπε να κάνει την εργασία του.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του προσώπου. 👎" },
          { text: "Είπε ότι έπρεπε να κάνει την εργασία του.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει προσαρμοστεί σωστά. 👎" },
          { text: "Τον προέτρεψε να κάνει την εργασία του.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      },
      {
        direct: "❓ Πάρε αυτό το τηλέφωνο.",
        options: [
          { text: "Της είπε να πάρει αυτό το τηλέφωνο.", isCorrect: true, feedback: "Σωστά! Η αλλαγή στο αντικείμενο έγινε σωστά. 👍" },
          { text: "Της είπε να πάρει αυτή τηλέφωνο.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε το άρθρο και το αντικείμενο. 👎" },
          { text: "Είπε να πάρει αυτό το τηλέφωνο.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή δεν αντικατοπτρίζει σωστά την εντολή. 👎" },
          { text: "Της είπε να πάρει αυτή τηλέφωνο.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      },
      {
        direct: "❓ Μην αργείς.",
        options: [
          { text: "Την προειδοποίησε να μην αργεί.", isCorrect: true, feedback: "Σωστά! Η εντολή μετατράπηκε σωστά σε προειδοποίηση. 👍" },
          { text: "Της είπε να μην αργεί.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή δεν αντικατοπτρίζει πλήρως την προειδοποίηση. 👎" },
          { text: "Είπε ότι δεν θα αργούσε.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει σωστά. 👎" },
          { text: "Την προέτρεψε να μην αργεί.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      },
      {
        direct: "❓ Συναντιόμαστε στις 8.",
        options: [
          { text: "Είπε ότι θα συναντιόντουσαν στις 8.", isCorrect: true, feedback: "Σωστά! Η αλλαγή στο ρήμα έγινε σωστά. 👍" },
          { text: "Είπε ότι συναντιόμαστε στις 8.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Είπε ότι θα συναντιόμαστε στις 8.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Της είπε ότι θα συναντιόντουσαν στις 8.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του χρόνου. 👎" }
        ]
      },
      {
        direct: "❓ Αυτό το μέρος είναι όμορφο.",
        options: [
          { text: "Εξήγησε ότι εκείνο το μέρος ήταν όμορφο.", isCorrect: true, feedback: "Σωστά! Η μετάβαση έγινε σωστά. 👍" },
          { text: "Είπε ότι αυτό το μέρος είναι όμορφο.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Εξήγησε ότι αυτό το μέρος ήταν όμορφο.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι εκείνο το μέρος ήταν όμορφο.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή στο αντικείμενο. 👎" }
        ]
      },
      {
        direct: "❓ Θα φέρω το φαγητό.",
        options: [
          { text: "Υποσχέθηκε ότι θα έφερε το φαγητό.", isCorrect: true, feedback: "Σωστά! Η χρήση του μέλλοντα έχει προσαρμοστεί σωστά. 👍" },
          { text: "Είπε ότι θα φέρει το φαγητό.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του χρόνου. 👎" },
          { text: "Υποσχέθηκε ότι φέρνει το φαγητό.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι θα έφερε το φαγητό.", isCorrect: false, feedback: "Λάθος επιλογή. Η δομή δεν είναι σωστή. 👎" }
        ]
      },
      {
        direct: "❓ Δεν ξέρω την απάντηση.",
        options: [
          { text: "Έλαβε να πει ότι δεν ήξερε την απάντηση.", isCorrect: true, feedback: "Σωστά! Η μετάβαση στο παρελθόν έγινε σωστά. 👍" },
          { text: "Είπε ότι δεν ξέρει την απάντηση.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Έλαβε να πει ότι δεν ξέρει την απάντηση.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι δεν ήξερε την απάντηση.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε τη δομή της πρότασης. 👎" }
        ]
      },
      {
        direct: "❓ Είμαι έτοιμος.",
        options: [
          { text: "Εξήγησε ότι ήταν έτοιμος.", isCorrect: true, feedback: "Σωστά! Η μετάβαση έγινε σωστά. 👍" },
          { text: "Είπε ότι είναι έτοιμος.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει αλλάξει. 👎" },
          { text: "Εξήγησε ότι είναι έτοιμος.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" },
          { text: "Είπε ότι ήταν έτοιμος.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του χρόνου. 👎" }
        ]
      },
      {
        direct: "❓ Αυτός θα κερδίσει.",
        options: [
          { text: "Είπε ότι εκείνος θα κέρδιζε.", isCorrect: true, feedback: "Σωστά! Η αλλαγή στο ρήμα έγινε σωστά. 👍" },
          { text: "Είπε ότι αυτός θα κερδίσει.", isCorrect: false, feedback: "Λάθος επιλογή. Ελέγξτε την αλλαγή του προσώπου. 👎" },
          { text: "Είπε ότι εκείνος κερδίζει.", isCorrect: false, feedback: "Λάθος επιλογή. Ο χρόνος δεν έχει μεταβληθεί σωστά. 👎" },
          { text: "Της είπε ότι εκείνος θα κέρδιζε.", isCorrect: false, feedback: "Λάθος επιλογή. Δοκιμάστε ξανά. 👎" }
        ]
      }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    const userResponses = []; // Καταγραφή απαντήσεων για ανασκόπηση
    let currentShuffledOptions = []; // Οι επιλογές της τρέχουσας ερώτησης σε τυχαία σειρά

    // Φόρτωση της τρέχουσας ερώτησης
    function loadQuestion() {
      const questionContainer = document.getElementById('questionContainer');
      const question = questions[currentQuestionIndex];
      
      // Ανακατέβουμε τις επιλογές (δημιουργώντας αντίγραφο του πίνακα)
      currentShuffledOptions = shuffle(question.options.slice());
      
      let html = `<p><strong>${question.direct}</strong></p>`;
      html += `<form id="optionsForm" class="options">`;
      currentShuffledOptions.forEach((option, index) => {
        html += `<label><input type="radio" name="option" value="${index}"> 👉 ${option.text}</label>`;
      });
      html += `<br><button type="button" onclick="submitAnswer()">Υποβολή</button>`;
      html += `</form>`;
      html += `<div id="feedback" class="feedback"></div>`;
      questionContainer.innerHTML = html;
      document.getElementById('nextButton').style.display = 'none';
    }

    // Υποβολή απάντησης και εμφάνιση ανατροφοδότησης
    function submitAnswer() {
      const optionsForm = document.getElementById('optionsForm');
      const feedbackDiv = document.getElementById('feedback');
      const selectedOption = optionsForm.option ? optionsForm.option.value : null;

      if (selectedOption === null || selectedOption === undefined) {
        alert("Παρακαλώ επιλέξτε μια επιλογή. 🤔");
        return;
      }

      const option = currentShuffledOptions[selectedOption];

      // Αναπαραγωγή ήχου ανάλογα με την ορθότητα
      if(option.isCorrect) {
        new Audio('success-sound.mp3').play();
        feedbackDiv.textContent = option.feedback + " 😃";
      } else {
        new Audio('fail-sound.mp3').play();
        feedbackDiv.textContent = option.feedback + " 😢";
      }

      if (option.isCorrect) {
        score++;
      }

      // Καταγραφή απάντησης για ανασκόπηση
      userResponses.push({
        question: questions[currentQuestionIndex].direct,
        selected: option.text,
        isCorrect: option.isCorrect,
        correctAnswer: currentShuffledOptions.find(opt => opt.isCorrect).text,
        feedback: option.feedback
      });

      // Απενεργοποίηση επιλογών
      document.querySelectorAll('input[name="option"]').forEach(radio => radio.disabled = true);

      // Εμφάνιση κουμπιού "Επόμενη Ερώτηση"
      document.getElementById('nextButton').style.display = 'block';
      updateScore();
    }

    // Μετάβαση στην επόμενη ερώτηση ή εμφάνιση αποτελεσμάτων στο τέλος
    function nextQuestion() {
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        loadQuestion();
      } else {
        showResults();
      }
    }

    // Ενημέρωση του σκορ στο πλαίσιο
    function updateScore() {
      document.getElementById('scoreBox').textContent = "Σκορ: " + score;
    }

    // Εμφάνιση τελικών αποτελεσμάτων και ανασκόπησης απαντήσεων
    function showResults() {
      document.getElementById('questionContainer').innerHTML = `<h2>Τέλος Ασκήσεων!</h2><p>Το τελικό σκορ σας είναι: ${score} από ${questions.length} 😎</p>`;
      document.getElementById('nextButton').style.display = 'none';
      displayReview();
      // Αναπαραγωγή επιπλέον ήχου αν το σκορ είναι πάνω από 20
      if(score > 20) {
        new Audio('success-sound2.mp3').play();
      }
    }

    // Εμφάνιση ανασκόπησης απαντήσεων με δημιουργική ανατροφοδότηση
    function displayReview() {
      let reviewHTML = "";
      userResponses.forEach((response, index) => {
        reviewHTML += `<p><strong>Ερώτηση ${index+1}:</strong> ${response.question}<br>`;
        reviewHTML += `Η απάντησή σας: ${response.selected} - ${response.isCorrect ? '<span style="color: lightgreen;">Σωστή 😃</span>' : '<span style="color: red;">Λανθασμένη 😢</span>'}<br>`;
        if (!response.isCorrect) {
          reviewHTML += `Η σωστή απάντηση: ${response.correctAnswer}<br>`;
        }
        reviewHTML += `Ανατροφοδότηση: ${response.feedback}</p><hr>`;
      });
      document.getElementById('review').innerHTML = reviewHTML;
      document.getElementById('resultContainer').style.display = 'block';
    }

    // Εκτύπωση σε PDF με χρήση jsPDF και doc.html() ώστε να αποτυπωθεί πλήρως η ανασκόπηση
    function printPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      // Ενσωμάτωση γραμματοσειράς που υποστηρίζει ελληνικά
      // Αντικαταστήστε το "BASE64_STRING_FOR_NOTOSANS" με το πραγματικό base64 string της γραμματοσειράς που επιλέγετε (π.χ. NotoSans-Regular.ttf)
      doc.addFileToVFS("NotoSans-Regular.ttf", "BASE64_STRING_FOR_NOTOSANS");
      doc.addFont("NotoSans-Regular.ttf", "NotoSans", "normal");
      doc.setFont("NotoSans");

      doc.html(document.getElementById('resultContainer'), {
        callback: function(doc) {
          doc.save('Απαντήσεις_και_Ανατροφοδότηση.pdf');
        },
        x: 10,
        y: 10,
        width: 190
      });
    }

    // Φόρτωση της πρώτης ερώτησης κατά το φόρτωμα της σελίδας
    window.onload = function() {
      loadQuestion();
    }
  </script>
</body>
</html>
